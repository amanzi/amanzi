WARNING: The amanzi batch and xml files in this directory are
automatically generated by pflotran and scripts. They are committed to
the repository for history tracking, but manually changing them runs
the risk of losing the changes next time the scripts are run.

To use pflotran as a preprocessor for amanzi, you need a copy of
pflotran built with the command:

make amanzi_bgd=1 pflotran

The script generate-batch.sh runs pflotran on
"ascem-2012-1d-farea-full.in" and converts the pflotran generated
files into batch_chem files:

./generate-batch.sh
./batch_chem -i ascem-2012-farea-background.cfg
./batch_chem -i ascem-2012-farea-seepage.cfg

NOTE: the kaolinite dissolution rate is not written correctly by
pflotran because of the prefactor. It is hardcoded in
generate-batch.sh!

You can visualize the 1-D pflotran output, e.g.

vis-pflotran-1d.py -i pflotran.h5 -s total -n pH -t "0 2 13 24 35 46" -o pflotran-ph.pdf
vis-pflotran-1d.py -i pflotran.h5 -s total -n H+ -t "0 2 13 24 35 46" -o pflotran-h.pdf
vis-pflotran-1d.py -i pflotran.h5 -s total -n UO2++ -t "0 2 13 24 35 46" -o pflotran-uo2.pdf
vis-pflotran-1d.py -i pflotran.h5 -s sorbed -n UO2++ -t "0 2 13 24 35 46" -o pflotran-uo2-sorbed.pdf
vis-pflotran-1d.py -i pflotran.h5 -s total -n Tritium -t "0 2 13 24 35 46" -o pflotran-tritium.pdf

The script cfg2xml-farea-1d.py extracts data from the batch_chem files
and writes the 1-d amanzi-u xml file:

python cfg2xml-farea-1d.py

NOTE: the mineral specific surface area values are hardcoded into
cfg2xml-farea-1d.py!

./amanzi --xml_file=amanzi-u-1d-farea-full.xml 2>/dev/null

Note, chemistry requires a very small time step, ~0.01 year. This
simulation is fairly slow on a single processor. If you run in
parallel the hdf5 output get jumbled; you have to run some other post
processing tool from the output group to unscrable the hdf5 file
(amanzi/src/output/unscramble_vis).

visualize the 1d amanzi files, e.g.

vis-amanzi-1d.py -i farea-1d -s total -n pH -t "0 10 20 30 40 50" -o amanzi-ph.pdf
vis-amanzi-1d.py -i farea-1d -s total -n H+ -t "0 10 20 30 40 50" -o amanzi-h.pdf
vis-amanzi-1d.py -i farea-1d -s total -n UO2++ -t "0 10 20 30 40 50" -o amanzi-uo2.pdf
vis-amanzi-1d.py -i farea-1d -s sorbed -n UO2++ -t "0 10 20 30 40 50" -o amanzi-uo2-sorbed.pdf
vis-amanzi-1d.py -i farea-1d -s total -n Tritium -t "0 10 20 30 40 50" -o amanzi-tritium.pdf
