# Use an official Python runtime as a parent image
FROM python:3.10-slim

# Install necessary packages
RUN apt-get update && apt-get install -y \
    xvfb \
    python3-opengl \
    && apt-get clean \
    && rm -rf /var/lib/apt/lists/*

# Install PyVista and other dependencies
RUN pip install pyvista matplotlib

# Set the display variable for Xvfb
ENV DISPLAY=:99

# Copy your Python script or application code
# COPY your_script.py /app/your_script.py

# Set the working directory
WORKDIR /app

# Run Xvfb and your Python script
CMD ["sh", "-c", "Xvfb :99 -screen 0 1024x768x24"]
